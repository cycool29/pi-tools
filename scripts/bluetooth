#!/bin/bash




# check arguments
while [ "${1}" ]; do
	case "${1}" in
		--connect|-c) # connct to device 
			ACTION="connect"
			shift
			;;
		--disconnect|-d) # disconnect from device
			ACTION="connect"
			shift
			;;
		--off) # turn off bluetooth
			ACTION="off"
			turn_bluetooth off
			shift
			;;
		--on) # turn on bluetooth
			ACTION="on"
			turn_bluetooth on
			shift
			;;
		--target|-t)
			if [ "${ACTION}" == "connect" ] || [ "${ACTION}" == "disconnect" ]; then
				TARGET=${2}
			else
				error "You did not mention to connect or disconnect ${2}."
			fi
			shift
			;;
		*)
			error "Unknown argument: ${1}" 
			;;
	esac
	shift
done



$TARGET